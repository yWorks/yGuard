<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="en-US">
<head>
  <title>yGuard @VERSION_MAJOR@ - Ant Java Bytecode Obfuscator and Shrinker - Documentation</title>
  <link rel="stylesheet" type="text/css" href="documentation.css"/>

  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="content-language" content="en">
  <meta http-equiv="language" content="en">
  <meta http-equiv="reply-to" content="yguard@yWorks.com">
  <meta name="audience" content="all">
  <meta name="classification" content="software">
  <meta name="copyright" content="Copyright &copy; 2002-@YEAR@ yWorks. All Rights Reserved.">
  <meta name="distribution" content="global">
  <meta name="publisher" content="yWorks, https://www.yworks.com">
  <meta name="rating" content="Safe For Kids">
</head>

<body>
<header>
  <div class="logo"></div>
  <div class="title">yGuard</div>
</header>
<div class="content">

  <p>
    This document explains how to use the yGuard Java obfuscation and shrinking
    software together with Ant. yGuard
    is a product of <a href="https://www.yworks.com/" target="_blank">yWorks GmbH</a>, creator
    of
    the outstanding Java<sup><font size="-2">TM</font></sup> graph visualization
    framework
    <a href="https://www.yworks.com/products/yfiles" target="_blank">yFiles</a> and other fine
    <a href="https://www.yworks.com/products/" target="_blank">products</a>.
  </p>

  <h1>yGuard @VERSION_MAJOR@ Ant Task Documentation</h1>

  <h2>Contents</h2>

  <div class="contents">
    <ul>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#hints">General Hints &amp Troubleshooting</a></li>
      <li><a href="#yguard">The <span class="element">yguard</span> Element</a></li>
      <li><a href="#inoutpair">The <span class="element">inoutpair</span>Elements</a></li>
      <li><a href="#inoutpairs">The <span class="element">inoutpairs</span>Elements</a></li>
      <li><a href="#externalclasses">The <span class="element">externalclasses</span> Element</a></li>
      <li><a href="#attribute">The <span class="element">attribute</span>Elements</a></li>
      <li><a href="#shrink">The <span class="element">shrink</span> Element</a></li>
      <li><a href="#entrypointjar">The <span class="element">entrypointjar</span> Element</a></li>
      <li><a href="#rename">The <span class="element">rename</span> Element</a></li>
      <li><a href="#property">The <span class="element">property</span> Elements</a></li>
      <li><a href="#keep">The <span class="element">keep</span> Element</a></li>
      <li><a href="#class">The <span class="element">class</span> Elements</a></li>
      <li><a href="#method">The <span class="element">method</span> Elements</a></li>
      <li><a href="#field">The <span class="element">field</span> Elements</a></li>
      <li><a href="#package">The <span class="element">package</span>Elements</a></li>
      <li><a href="#sourcefile">The <span class="element">sourcefile</span>Elements</a></li>
      <li><a href="#linenumbertable">The <span class="element">linenumbertable</span> Elements</a></li>
      <li><a href="#adjust">The <span class="element">adjust</span> Elements</a></li>
      <li><a href="#map">The <span class="element">map</span> Element</a></li>
      <li><a href="#annotation">Controlling obfuscation exclusion with annotations</a></li>
      <li><a href="#patch">Generating Patch Jars</a></li>
      <li><a href="#examples">Complete Examples</a>
        <ul>
          <li><a href="#ex:build">Example 1: Getting started with ANT and
            yGuard</a></li>
          <li><a href="#ex:api">Example 2: A Public API</a></li>
          <li><a href="#ex:demo">Example 3: A Demo Program</a></li>
          <li><a href="#ex:externalclasses">Example 4: A Program Using an
            External Library</a></li>
          <li><a href="#ex:adjust">Example 5: A Program with .properties Files
            and Other Resource Files</a></li>
          <li><a href="#ex:attribute">Example 6: A Program Linked Against a
            Library That Needs to be Obfuscated</a></li>
          <li><a href="#ex:extends">Example 7: Using the extends and implements
            Attributes (Serializable exclusion)</a></li>
          <li><a href="#ex:annotation">Example 8: Annotations in Source Code to
            Control Obfuscation Exclusion</a></li>
        </ul>
      </li>
      <li><a href="#deobfuscation">Deobfuscating Stacktraces Etc.</a></li>
      <li><a href="#problems">Problems and Bug Reports</a></li>
      <li><a href="#dtd">DTD used for Ant <span class="element">&lt;yguard></span></a></li>
    </ul>
  </div>


  <a name="introduction"></a>
  <h1>Introduction</h1>

  <div class="section">
    <p>
      Using the yGuard Ant task, name obfuscation and code shrinking can be
      seamlessly integrated into your deployment
      process.<br/>
      The <a href="#yguard"><span class="element">yguard</span></a> task
      contains two nested elements that perform the name obfuscation
      and code shrinking separately:
    </p>
    <ul>
      <li>The <a href="#shrink"><span class="element">shrink</span></a> element
        removes all code elements that are not reachable from
        the entrypoints given in the nested
        <a href="#keep"><span class="element">keep</span></a> element.
      </li>
      <li>The <a href="#rename"><span class="element">rename</span></a> element
        performs name-obfuscation, renaming all packages,
        classes, methods and fields according to a selectable name-mapping
        scheme.<br/>
        Elements can be excluded from the renaming process by annotating them
        with a certain annotation class in the source code or using
        a nested <a href="#keep"><span class="element">keep</span></a> element.
      </li>
    </ul>
    <p>
      Both elements operate on the same set of input and output files
      specified in the containing
      <a href="#yguard"><span class="element">yguard</span></a> element.
    </p>
  </div>


  <a name="installation"></a>
  <h1>Installation</h1>

  <div class="section">
    <p>
      In order to make use of yGuard's <span class="element">yguard</span> task
      you must have Ant properly installed and configured to run it. After
      <a href="https://www.yworks.com/products/yguard#download">downloading</a>
      and extracting the jar file (<code>yguard.jar</code>), place it in a path
      near to your build script. You may use absolute paths, but in the following
      example, we expect the jar file to lie in the same directory as your build
      file.
    </p>

    <p>
      In order the get the Ant task running you should insert a couple of lines
      in your build script (<code>build.xml</code>):
    </p>

    <pre class="programlisting">&lt;target name="yguard">
  &lt;taskdef name="yguard"
  classname="com.yworks.yguard.YGuardTask"
  classpath="yguard.jar"/>
  &lt;yguard>
    &lt;!-- insert your yguard elements here -->
  &lt;/yguard>
&lt;/target></pre>

    <p>
      For a complete <code>build.xml</code> file have a look at the
      <a href="#ex:build">examples section</a>.
    </p>
  </div>


  <a name="hints"></a>
  <h1>General Hints &amp; Troubleshooting</h1>

  <div class="section">
    <p>
      There are a couple of things you should be aware of when obfuscating and
      shrinking software.
      <br>
      The weakest part of an application considering name obfuscation and code
      shrinking is code that uses reflection to dynamically load classes, invoke
      methods etc. Therefore, you have to be especially careful when using the
      <span class="element">yguard</span> task on applications that rely on
      reflection.
      <br>
      The most important facts to keep in mind when using yGuard are described
      here briefly:
    </p>
    <ul>
      <li>If you use the <span class="element">rename</span> task, code in the
        form of <code>MyApplication.class</code> will break
        if MyApplication will be obfuscated by name
        and the obfuscation switch
        <a href="#replaceclassnamestrings"><span class="attribute">replaceClassNameStrings</span></a>
        is set to<code>false</code>.
        The <span class="element">shrink</span> task will currently recognize
        code in the form of <code>MyApplication.class</code> only if
        the java files
        were compiled using an arbitrary version of the standard javac compiler
        (although the shrinking engine might
        recognize the <code>.class</code> construct also if the classes were
        compiled using a compiler that generates
        similar bytecode).
      </li>
      <li>Automatic introspection and reflection will break in most cases, when
        you decide to obfuscate the corresponding methods and fields. If you use
        the <span class="element">shrink</span> task and your
        application uses
        reflection you should explicitly designate all entities loaded per
        reflection as code entrypoints using the
        <a href="#keep"><span class="element">keep</span></a> element.
        <br/>
        If your application is broken after using the
        <span class="element">shrink</span>task, consider using the
        <a href="#createstubs"><span class="attribute">createStubs</span></a>
        attribute of the <span class="element">shrink</span> task to find out
        which additional entities you
        need to include in the <a href="#keep"><span class="element">keep</span></a>
        element.
      </li>
      <li><code>Class.forName(className)</code> will not work when using the
        <span class="element">rename</span> task unless you use the
        obfuscated name string in your variable or the String is a local
        constant and
        <a href="#replaceclassnamestrings"><span class="attribute">replaceClassNameStrings</span></a>
        is not set or set to <code>true</code>.
        If you use the <span class="element">shrink</span> task,
        <code>className</code> should be contained in the list of entrypoints
        using
        the <a href="#keep"><span class="element">keep</span></a> element.
      <li>The customized serialization mechanism will not work if you
        obfuscated or shrinked the writeObject and readObject methods as well as
        the serializationUID field.
      </li>
      <li>Simple bean introspection will not work, if you decide to
        obfuscate your public accessor methods, since it makes use of
        reflection.
      </li>
      <li>
        If you do not set the <code>-Xmx</code> property for the Java virtual
        machine, the <span class="element">yguard</span> Ant task
        might fail due to a <code>java.lang.OutOfMemoryError</code>.<br/>
        To solve this problem, set the <code>-Xmx</code> option in the <code>ANT_OPTS</code>
        variable, e.g.:
        <pre class="programlisting">bash> export ANT_OPTS="-Xmx512M"
or
cshell> setenv ANT_OPTS "-Xmx512M"</pre>
      </li>
    </ul>
  </div>


  <a name="yguard"></a>
  <h1>The <span class="element">yguard</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">yguard</span> task contains elements that define
      basic properties common to the nested
      <a href="#rename"><span class="element">rename</span></a> and
      <a href="#shrink"><span class="element">shrink</span></a> tasks.<br/>
      Please see the <a href="#hints">General Hints &amp; Troubleshooting</a>
      section to learn about common pitfalls when using name obfuscation and
      shrinking software.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <p>
        The <span class="element">yguard</span> element has no attributes.
      </p>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><a href="#inoutpair"><span class="element">inoutpair</span></a></li>
        <li><a href="#externalclasses"><span class="element">externalclasses</span></a></li>
        <li><a href="#attribute"><span class="element">attribute</span></a></li>
        <li><a href="#rename"><span class="element">rename</span></a></li>
        <li><a href="#shrink"><span class="element">shrink</span></a></li>
      </ul>
    </div>
  </div>


  <a name="inoutpair"></a>
  <h1>The <span class="element">inoutpair</span> Elements</h1>

  <div class="section">
    <p>
      At least one <span class="element">inoutpair</span> element or one
      non-empty <span class="element">inoutpairs</span> element has to be
      specified in order to run the yguard tasks. This element specifies the
      paths to the input and output jar files.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>
 
        <tr>
         <td><span class="attribute">in</span></td>
          <td>
            Specifies an exisiting jar file, which contains the unshrinked and
            unobfuscated .class files.
          </td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><span class="attribute">out</span></td>
          <td>
            Specifies a path to a jar file which will be created and used to
            put the results of the shrinking and obfuscation process.
          </td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><span class="attribute">resources</span></td>
          <td>
            Will only be considered if the
            <a href="#yguard"><span class="element">yguard</span></a> element
            contains a nested
            <a href="#shrink"><span class="element">shrink</span></a> element.
            <br>
            Determines how the shrinking engine handles all non-.class files.
            <br>
            Currently the following three resource policies are supported:
            <ul>
              <li><span class="attr-value">copy</span><br>
                the default, simply copies all resource files to the output jar.
              </li>
              <li><span class="attr-value">auto</span><br>
                copies only those resource files that reside in a directory that
                still contains one or more .class files after shrinking.
              </li>
              <li><span class="attr-value">none</span><br>
                discards all resource files.
              </li>
            </ul>
          </td>
          <td>
            No, defaults to <span class="attr-value">copy</span>.
          </td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <p>
        The <span class="element">inoutpair</span> element has no child elements.
      </p>
    </div>

    <p>
      If multiple jar files need to be obfuscated at once the
      <span class="element">inoutpairs</span> element can be used alternatively.
    </p>
  </div>


  <a name="inoutpairs"></a>
  <h1>The <span class="element">inoutpairs</span> Elements</h1>

  <div class="section">
    <p>
      Additionally or alternatively to <span class="element">inoutpair</span>
      elements this element can be specified in order
      to specify the paths to the input and output jar files.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>
  
        <tr>
          <td><span class="attribute">resources</span></td>
          <td>
            Will only be considered if the
            <a href="#yguard"><span class="element">yguard</span></a> element
            contains a nested
            <a href="#shrink"><span class="element">shrink</span></a> element.
            <br>
            Determines how the shrinking engine handles all non-.class files.
            <br>
            Currently the following three resource policies are supported:
            <ul>
              <li><span class="attr-value">copy</span><br>
                the default, simply copies all resource files to the output jar.
              </li>
              <li><span class="attr-value">auto</span><br>
                copies only those resource files that reside in a directory that
                still contains one or more .class files after shrinking.
              </li>
              <li><span class="attr-value">none</span><br>
                discards all resource files.
              </li>
            </ul>
          </td>
          <td>
            No, defaults to <span class="attr-value">copy</span>.
          </td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a></li>
        <li>
          optionally a
          <a href="http://ant.apache.org/manual/Types/mapper.html"><span class="element">mapper</span></a>
          that determines the name mapping between the unobfuscated and obfuscated
          versions of the jar files.
          Note that <span class="element">identitymapper</span> and
          <span class="element">mergemapper</span> are not supported. All matched
          jar file names need to be mapped to exactly one jar file name
          that differs from the original jar file.
        </li>
      </ul>
    </div>

    <div class="examples">
      <p>Some examples:</p>
      <pre class="programlisting">&lt;!-- use all jars in the input-lib-dir directory and obfuscate them to *_obf.jar -->
&lt;inoutpairs resources="auto">
  &lt;fileset dir="${input-lib-dir}">
    &lt;include name="myapp*.jar"/>
    &lt;exclude name="*_obf.jar"/>
  &lt;/fileset>
  &lt;mapper type="glob" from="*.jar" to="*_obf.jar"/>
&lt;/inoutpairs>

&lt;!-- the above mapper is the default one so the following snippet does the same -->
&lt;inoutpairs resources="auto">
  &lt;fileset dir="${input-lib-dir}">
    &lt;include name="myapp*.jar"/>
    &lt;exclude name="*_obf.jar"/>
  &lt;/fileset>
&lt;/inoutpairs></pre>
    </div>
  </div>


  <a name="externalclasses"></a>
  <h1>The <span class="element">externalclasses</span> Element</h1>

  <div class="section">
    <p>
      If the jar to be processed by yGuard depends on external classes or
      libraries, this
      element can be used to specify classpaths to these entities.
      These libraries will neither be shrinked nor obfuscated. Use the
      <span class="element">inoutpair</span> element for this purpose!
      See <a href="#ex:externalclasses">example 4</a> later in this document for
      an example of when to use this
      element.<br/>
      In order to achieve a maximum shrinking effect by the
      <span class="element">shrink</span> task, all external dependencies should
      be declared in the <span class="element">externalclasses</span> element.
      Otherwise, all non-private methods of classes
      that inherit from unresolvable classes will not be shrinked.
    </p>

    <p>
      The elements attributes and child elements can be seen on the
      <a href="http://ant.apache.org/manual/using.html#path">Ant documentation page about using path elements</a>.
    </p>
  </div>


  <a name="attribute"></a>
  <h1>The <span class="element">attribute</span> Element</h1>

  <div class="section">
    <p>
      Using the <span class="element">attribute</span> element, you can specify
      which attributes present in the input
      classes should be kept in the obfuscated output classes.<br/>
      See <a href="#ex:attribute">example 6</a> later in this document for an
      example of when to use this
      element.<br/>
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>
        <tr>

          <td><span class="attribute">name</span></td>
          <td>A comma-separated list of attribute names that are to
            be retained in the shrinked and/or
            obfuscated class
            files.
          </td>
          <td>Yes</td>

        </tr>

      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p>
        An example:
      </p>
      <pre class="programlisting">&lt;attribute name="SourceFile, LineNumberTable, LocalVariableTable">
  &lt;patternset>
    &lt;include name="com.mycompany.mylibrary.**"/>
  &lt;/patternset>
&lt;/attribute></pre>

      <p>
        This will retain the attributes named "<code>SourceFile</code>",
        "<code>LineNumberTable</code>", and "<code>LocalVariableTable</code>"
        effectively enabling debugging information for all classes in the
        <code>com.mycompany.mylibaray</code> package and subpackages.
      </p>
    </div>
  </div>


  <a name="shrink"></a>
  <h1>The <span class="element">shrink</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">shrink</span> task removes all classes, fields
      and methods that are not reachable from a number of entrypoints given by
      a nested <a href="#keep"><span class="element">keep</span></a> element.
      <br>
      See the <a href="#examples">Complete Examples</a> section for explanation
      of some common use cases.
      If your code uses reflection, please read the
      <a href="#hints">General Hints &amp Troubleshooting</a>
      section for information on this topic.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">logfile</span></td>
          <td>Determines the name of the logfile that is generated
            during the shrinking process. The logfile contains information about
            the entrypoints the shrinking engine uses, the removed classes,
            methods and fields as well as any warnings.
            <br>
            If the name ends with a ".gz", yGuard will automatically create a
            gzipped version of the file which potentially saves a lot of disc
            space.
          </td>
          <td>
            No, defaults to<code>yshrinklog.xml</code>
          </td>
        </tr>

        <tr>
          <td>
            <a name="createstubs"></a><span class="attribute">createStubs</span>
          </td>
          <td>
            Instead of removing methods completely, this attribute causes the
            <span class="element">shrink</span> task to insert a method
            stub that throws a <code>java.lang.InternalError</code> if it is
            called. This attribute is very useful if the shrinking process
            causes your application to break and you are uncertain about which
            additional code entities you have to include in the
            <a href="#keep"><span class="element">keep</span></a>element. <br/>
            Note that classes considered as completely obsolete by the shrinking
            engine are still removed completely - this attribute only
            affects obsolete methods of non-obsolete classes.
          </td>
          <td>
            No, defaults to <code>false</code>
          </td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><a href="#keep"><span class="element">keep</span></a></li>
        <li><a href="#entrypointjar"><span class="element">entrypointjar</span></a>
        </li>
      </ul>
    </div>
  </div>


  <a name="entrypointjar"></a>
  <h1>The <span class="element">entrypointjar</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">entrypointjar</span> element can be used for
      convenience if your application uses libraries that are to be shrinked,
      but the jarfile using these libraries should be left untouched by the
      shrinking engine. Such a jarfile could be specified as an
      <span class="element">entrypointjar</span>.<br/>
    </p>

    <div class="attibutes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">name</span></td>
          <td>Path to to the jar file to use as entrypointjar.
          <td>Yes</td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <p>
        The <span class="element">entrypointjar</span> element has no child
        elements.
      </p>
    </div>

    <div class="examples">
      <p class="title">Example</p>
      <pre class="programlisting">&lt;yguard>
  &lt;inoutpair in="lib-in.jar" out="lib-out.jar" />
  &lt;shrink>
    &lt;entrypointjar name="myApp.jar"/>
  &lt;/shrink>
&lt;/yguard></pre>
    </div>
  </div>


  <a name="rename"></a>
  <h1>The <span class="element">rename</span> Element</h1>

  <div class="section">
    <p>
      The basic idea is, that all elements will be renamed by this task. There
      are different use cases, where you sometimes want to exclude or simply
      just have to exclude some elements from name obfuscation, i.e. <b>not</b>
      rename them but keep in the API as is. See the
      <a href="#examples">Complete Examples</a> section for explanation
      of some common use cases.
      If your code uses reflection, please read the
      <a href="#hints">General Hints &amp Troubleshooting</a>
      section for information on this topic.
      Excluding elements can be achieved by using the
      <a href="#keep"><span class="element">keep</span></a> element, the
      <span class="attribute">mainclass</span> attribute of the
      <span class="element">rename</span> element and by annotating elements in
      the source code with the annotation that is specified in the
      <span class="attribute">annotationClass</span> attribute of the
      <span class="element">rename</span> element.
      Using the nested <a href="#keep"><span class="element">keep</span></a>
      element, you have to specify all classes, methods, fields, and attributes
      that should be excluded from name obfuscation.
      Another way is to <a href="#annotation">annotate the elements directly in
      the source code</a> that should be obfuscated or excluded. You can use the
      yFiles obfuscation annotation
      <code>com.yworks.util.annotation.Obfuscation</code> for that or specify
      your own annotation in the
      <a href="#annotationClass"><span class="attribute">annotationClass</span></a>
      attribute of this element.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">mainclass</span></td>
          <td>Can be used as a shortcut to specify the mainclass
            of your application. Both the class name and the main method will be
            excluded from name obfuscation.
            Alternatively you may want to consider to exclude the main method
            only. If your jar contains a <code>Main-Class</code> attribute, the
            <span class="element">rename</span> task will automatically adjust
            the value to the obfuscated
            name.
          </td>
          <td>No</td>
        </tr>
        <tr>
          <td><span class="attribute">logfile</span></td>
          <td>Determines the name of the logfile that is generated
            during the renaming process. The logfile contains information about
            the mappings the name obfuscator generates as well as any warnings.
            <br>
            If the name ends with a ".gz", yGuard will automatically create a
            gzipped version of the file which potentially saves a lot of disc
            space.
          </td>
          <td>
            No, defaults to<code>yguardlog.xml</code></td>
        </tr>
        <tr>
          <td><span class="attribute">conservemanifest</span></td>
          <td>
            A boolean attribute (valid values:
            <code>true</code>/<code>false</code>) that determines whether the
            manifest file of the jars should be left untouched by the renaming
            engine. If set to <code>false</code>, the manifest will be modified
            to reflect the new message digests.
          </td>
          <td>
            No, defaults to <code>false</code>.
          </td>
        </tr>
        <tr>
          <td>
            <a name="replaceclassnamestrings"></a><span class="attribute">replaceClassNameStrings</span>
          </td>
          <td>
            A boolean attribute (valid values:
            <code>true</code>/<code>false</code>) that determines whether the
            renaming engine should try to replace hardcoded Strings, which
            are used in conjunction with the <code>MyClass.class</code>
            construct.
            If set to <code>false</code>, those Strings will be left untouched
            and code of the form <code>MyClass.class</code> will break if
            MyClass gets obfuscated by name. If set to <code>true</code> (the
            default), yGuard will try to workaround this problem by replacing
            the hardcoded String with the appropriate obfuscated name. However
            this will only work if the unobfuscated class file has been
            generated with the usual compilers ('javac', 'jikes' and 'bjc') or
            compilers, that produce similar bytecode. This can also have the
            side-effect of modifying too many Strings, e.g if you have code that
            looks like<code>System.out.println("com.mycompany.MyClass");</code>,
            it might get replaced, if <code>MyClass.class</code> resides in the
            very same class with something like
            <code>System.out.println("com.A.OoO");</code>. It will most likely
            fail if the class has been previously obfuscated by another
            obfuscation tool or a different compiler has been used for
            compilation. Anyway it is always worth it to give it a try, if you
            want to have 'full obfuscation'.
          </td>
          <td>
            No, defaults to <code>true</code>
          </td>
        </tr>
        <tr>
          <td><a name="annotationClass"></a><span class="attribute">annotationClass</span></td>
          <td>
            Specifies the name of the annotation class that can be used to
            exclude elements by annotating them in the source code. The
            specified annotation can be any annotation that fits the convention.
          </td>
          <td>
            No, defaults to <code>com.yworks.util.annotation.Obfuscation</code>
          </td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><a href="#keep"><span class="element">keep</span></a></li>
        <li><a href="#property"><span class="element">property</span></a></li>
        <li><a href="#patch"><span class="element">patch</span></a></li>
        <li><a href="#adjust"><span class="element">adjust</span></a></li>
        <li><a href="#map"><span class="element">map</span></a></li>
      </ul>
    </div>
  </div>


  <a name="property"></a>
  <h1>The <span class="element">property</span> Elements</h1>

  <div class="section">
    <p>
      <span class="element">property</span> elements can be used to give hints
      to the name obfuscation engine. Depending on the exact version of yGuard,
      the task may use these hints to control the process of obfuscation.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>
        <tbody>

        <tr>
          <td><span class="attribute">name</span></td>
          <td>
            Specifies a key which may be interpreted by the obfuscation task.
          </td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><span class="attribute">value</span></td>
          <td>
            Specifies the corresponding value of the property.
          </td>
          <td>Yes</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="properties">
      <p class="title">The following properties are supported:</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Name</b></th>
          <th width="88%"><b>Description</b></th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <td><span class="property">error-checking</span></td>
          <td>
            Can be used to tell yGuard to bail out if it detects any problems.
            Currently this property can be set to the following value:
            <ul>
              <li>
                <span class="prop-value">pedantic</span><br>
                Will make the obfuscation run fail, i.e. the target which uses
                the <span class="element">rename</span>element will fail, if
                yGuard detects any problems.
              </li>
            </ul>
          </td>
        </tr>

        <tr>
          <td><span class="property">naming-scheme</span></td>
          <td>
            Can be used to tell the renaming engine to use a different naming
            scheme during the obfuscation.
            Currently this property can be set to one of the following values:
            <ul>
              <li>
                <span class="prop-value">small</span><br>
                Will produce very short names, i.e. the resulting jar
                file will be as small as possible.
              </li>
              <li>
                <span class="prop-value">best</span><br>
                Will produce names, that are very likely to be misunderstood by
                decompilers and disassemblers. Using this naming-scheme it is
                even impossible on most filesystems to successfully unjar or
                unzip the resulting jar file (Windows, Standard Unix, Standard
                Linux, MacOS).
                However this scheme takes up a lot of space and the resulting
                jar is likely to become large (typically roughly double the
                size).
              </li>
              <li>
                <span class="prop-value">mix</span><br>
                Is a mixture of both the other two values, which leads to
                reasonable small but still hard to decompile jar files.
              </li>
            </ul>
          </td>
        </tr>

        <tr>
          <td><span class="property">language-conformity</span></td>
          <td>
            Can be used to advise the renaming engine to produce names, that
            should be decompilable by most decompilers. On the other hand,
            yGuard can produce class files that should be executable and
            verifiable by all of todays virtual machines, but produces
            absolutely nonsense names when decompiled (Ever tried to compile
            '<code>int class = false.this super(String$super.init if);</code>'
            ?!)
            Currently this property can be set to one of the following values:
            <ul>
              <li>
                <span class="prop-value">compatible</span><br>
                Will produce names, that are ok for (most) decompilers, java,
                jar and manifest files and can be unzipped to most filesystems.
              </li>
              <li>
                <span class="prop-value">legal</span><br>
                Will produce names, that are ok for (some) decompilers, java,
                jar and manifest files.
              </li>
              <li>
                <span class="prop-value">illegal</span><br>
                Will produce names, that will crash some tools but usually
                <b>not</b> the jvm, but JBuilder7 in many occasions for example.
              </li>
            </ul>
          </td>
        </tr>

        <tr>
          <td><span class="property">overload-enabled</span></td>
          <td>
            Determines whether the renaming engine tries to use the same names
            for methods with different signatures or whether it always generates
            unique method names.
            Setting this property to <code>false</code> eases the analysis of
            stacktraces but reduces the obfuscation effect.
          </td>
        </tr>

        <tr>
          <td><span class="property">obfuscation-prefix</span></td>
          <td>
            Can be used to instruct the renaming engine to prefix packages, that
            are fully obfuscated with a given package prefix, e.g.
            <code>com.mycompany.obf</code>.
          </td>
        </tr>

        <tr>
          <td><span class="property">digests</span></td>
          <td>
            Can be used to tell yGuard which digest algorithms should be used
            for the digest generation in the manifest file. Valid values are
            either <span class="prop-value">none</span>, or a comma-separated
            list of digest-algorithm identifiers, e.g.
            <span class="prop-value">SHA-1, MD5</span> (which is the default).
          </td>
        </tr>

        <tr>
          <td><span class="property">expose-attributes</span></td>
          <td>
            Can be used to give yGuard a list of attributes yGuard should expose
            in addition to the standard attributes.
            By default yGuard removes unneeded attributes like "Deprecated" from
            methods. The value can be a comma separated list of attributes as
            defined in
            <a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7">Section 4.7 of the VM Specification of the .class File Format</a>.
            E.g. in order to keep the "Deprecated" attribute one can add the
            following property:
            <br>
            <code>&lt;property name="expose-attributes" value="Deprecated"/></code>
            <br>
            Note that this affects all classes which will be obfuscated. For a
            better control of which attributes should be exposed in what classes
            use the <a href="#attribute">Attribute Element</a>.
          </td>
        </tr>
        </tbody>
      </table>
    </div>


    <div class="child-elements">
      <p class="title">Child Elements</p>
      <p>
        The <span class="element">property</span> element has no child elements.
      </p>
    </div>
  </div>


  <a name="keep"></a>
  <h1>The <span class="element">keep</span> Element</h1>

  <div class="section">
    <p>
      This element is a child of the <a href="#rename"><span class="element">rename</span></a>
      or <a href="#shrink"><span class="element">shrink</span></a> element.
      It can be used to specify elements that are excluded from the parent
      <span class="element">rename</span> or <span class="element">shrink</span>
      task. The excluded classes, methods and fields are defined using nested
      <a href="#package"><span class="element">package</span></a>,
      <a href="#class"><span class="element">class</span></a>,
      <a href="#method"><span class="element">method</span></a> and
      <a href="#field"><span class="element">field</span></a> elements.
      <br>
      The elements given in the <span class="element">keep</span> element are
      considered as code entrypoints. All code reachable from these entrypoints
      will be implicitly excluded from
      shrinking, too.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>

      <p>
        The <span class="element">keep</span> element provides a number of
        boolean attributes that determine whether debug information and
        annotations present in the input class files are to be retained in the
        output files. The default behavior of the
        <span class="element">rename</span> and
        <span class="element">shrink</span> elements for the respective
        attributes is explained in the table below.
        <br>
        Note that a more fine-grained control over which attributes to keep for
        which class files is possible using the
        <a href="#attribute"><span class="element">attribute</span></a> element.
        Also, the <span class="element">attribute</span> element allows to
        define attributes to keep for both the
        <span class="element">rename</span> and the
        <span class="element">shrink</span>element in a common place.
      </p>

      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="58%"><b>Description</b></th>
          <th width="15%"><b>Default (<span class="element">rename</span>)</b></th>
          <th width="15%"><b>Default (<span class="element">shrink</span>)</b></th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <td><span class="attribute">sourcefile</span></td>
          <td>
            Determines whether the name of the original source code file should
            be included in the output class files.
          </td>
          <td><span class="attr-value">remove</span></td>
          <td><span class="attr-value">remove</span></td>
        </tr>
        <tr>
          <td><span class="attribute">linenumbertable</span></td>
          <td>
            Determines whether the line number table, that contains a mapping
            from each opcode in the class file to the line number in the
            original source code file should be included in the output class
            files.
          </td>
          <td><span class="attr-value">remove</span> </td>
          <td><span class="attr-value">remove</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">localvariabletable</span></td>
          <td>
            Determines whether the local variable table, that contains a mapping
            from each local variable in the class file to the name that has been
            used in the original source code file should be included in the
            output class files.
          </td>
          <td><span class="attr-value">remove</span> </td>
          <td><span class="attr-value">remove</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">localvariabletypetable</span></td>
          <td>
            Determines whether the local variable type table, that contains a
            mapping from each local variable in the class file to the name and
            its generic type signature that has been used in the original source
            code file should be included in the output class files.
          </td>
          <td><span class="attr-value">remove</span> </td>
          <td><span class="attr-value">remove</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">runtimevisibleannotations</span></td>
          <td>
            Determines whether annotations with the retention policy
            <code>RetentionPolicy.RUNTIME</code>should be included in the output
            class files.
          </td>
          <td><span class="attr-value">keep</span> </td>
          <td><span class="attr-value">keep</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">runtimevisibleparameterannotations</span></td>
          <td>
            Determines whether method paramater annotations with the retention
            policy <code>RetentionPolicy.RUNTIME</code> should be included in
            the output class files.
          </td>
          <td><span class="attr-value">keep</span> </td>
          <td><span class="attr-value">keep</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">runtimeinvisibleannotations</span></td>
          <td>
            Determines whether annotations with the retention policy
            <code>RetentionPolicy.CLASS</code>should be included in the output
            class files.
          </td>
          <td><span class="attr-value">keep</span> </td>
          <td><span class="attr-value">remove</span> </td>
        </tr>
        <tr>
          <td><span class="attribute">runtimeinvisibleparameterannotations</span>
          </td>
          <td>
            Determines whether method paramater annotations with the retention
            policy <code>RetentionPolicy.CLASS</code> should be included in the
            output class files.
          </td>
          <td><span class="attr-value">keep</span> </td>
          <td><span class="attr-value">remove</span> </td>
        </tr>
        </tbody>
      </table>
    </div>


    <div class="child-elements">
      <p class="title">Common Child Elements</p>
      <ul>
        <li><a href="#class"><span class="element">class</span></a></li>
        <li><a href="#method"><span class="element">method</span></a></li>
        <li><a href="#field"><span class="element">field</span></a></li>
        <li><a href="#package"><span class="element">package</span></a></li>
      </ul>

      <p class="title">
        Child Elements only available in the
        <a href="#rename"><span class="element">rename</span></a> task
      </p>
      <p>
        The <a href="#rename"><span class="element">rename</span></a> task
        allows for a special treatment of the
        <span class="attribue">linenumbertable</span> and
        <span class="attribue">sourcefile</span> attributes.
        This treatment can be specified in the following child elements:
      </p>
      <ul>
        <li><a href="#sourcefile"><span class="element">sourcefile</span></a></li>
        <li><a href="#linenumbertable"><span class="element">linenumbertable</span></a></li>
      </ul>
    </div>
  </div>


  <a name="class"></a>
  <h1>The <span class="element">class</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">class</span> element can be used for excluding
      certain classes and/or their fields and methods from the renaming or
      shrinking process.
      <br>
      If no
      <span class="attribute">name</span>,
      <span class="attribute">extends</span> or
      <span class="attribute">implements</span>
      attribute is given and the
      <span class="element">class</span> element contains no nested
      <span class="element">patternset</span>, a
      <span class="element">class</span> element matches all class names.
    </p>

    <p>
      The
      <span class="attribute">classes</span>,
      <span class="attribute">methods</span> and
      <span class="attribute">fields</span>
      attributes tell the shrinking and renaming engines which classes, methods
      and fields to keep based on their visibility.
      The following table lists the possible values for all of these attributes
      and shows which elements will be excluded. A '*' denotes, that elements
      that have the given visibility will be excluded for the specified
      attribute value. A '-' denotes that the these elements will not be
      excluded from the process.
    </p>

    <div class="visibility">
      <table class="matrix">
        <tr>
          <td><b>Value/Visibility</b></td>
          <td><span class="keyword">public</span></td>
          <td><span class="keyword">protected</span></td>
          <td><span class="keyword">friendly</span></td>
          <td><span class="keyword">private</span></td>
        </tr>
        <tr>
          <td><span class="keyword">none</span></td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
        </tr>
        <tr>
          <td><span class="keyword">public</span></td>
          <td>*</td>
          <td>-</td>
          <td>-</td>
          <td>-</td>
        </tr>
        <tr>
          <td><span class="keyword">protected</span></td>
          <td>*</td>
          <td>*</td>
          <td>-</td>
          <td>-</td>
        </tr>
        <tr>
          <td><span class="keyword">friendly</span></td>
          <td>*</td>
          <td>*</td>
          <td>*</td>
          <td>-</td>
        </tr>
        <tr>
          <td><span class="keyword">private</span></td>
          <td>*</td>
          <td>*</td>
          <td>*</td>
          <td>*</td>
        </tr>
      </table>
    </div>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%">Attribute</th>
          <th width="78%">Description</th>
          <th width="10%">Required</th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <td><span class="attribute">name</span></td>
          <td>The name of the class to be kept.</td>
          <td>No</td>
        </tr>
        <tr>
          <td><span class="attribute">classes</span></td>
          <td>The visibility of the classes to be kept.</td>
          <td>
            No, defaults to <span class="attr-value">none</span></td>
        </tr>
        <tr>
          <td><span class="attribute">methods</span></td>
          <td>The visibility of the methods to be kept.</td>
          <td>
            No, defaults to <span class="attr-value">none</span></td>
        </tr>
        <tr>
          <td><span class="attribute">fields</span></td>
          <td>The visibility of the fields to be kept.</td>
          <td>
            No, defaults to <span class="attr-value">none</span></td>
        </tr>
        <tr>
          <td><a name="extends"></a><span class="attribute">extends</span></td>
          <td>
            If no <span class="attribute">name</span> attribute is given, keeps
            all classes that equal or extend the class defined by the given
            fully qualified classname.
            <br>
            See <a href="#ex:extends">example 7</a> for an example usage of this
            attribute.
          </td>
          <td>No</td>
        </tr>
        <tr>
          <td><a name="implements"></a><span class="attribute">implements</span></td>
          <td>
            If no <span class="attribute">name</span> attribute is given, keeps
            all classes that equal or implement the class defined by the given
            fully qualified classname.
            <br>
            See <a href="#ex:extends">example 7</a> for an example usage of this
            attribute.
          </td>
          <td>No</td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Explanation</p>
      <p>
        There are three possible ways of specifying which classes will be excluded
        from the shrinking and obfuscation process:
      </p>

      <ol>
        <li>One can specify a single java class using the fully qualified name
          in java syntax with the <span class="attribute">name</span> attribute.
          For example:
          <pre class="programlisting">&lt;class name="mypackage.MyClass"/></pre>
        </li>
        <li>One can specify multiple java classes using a modified version of
          a patternset. The patternset's includes and excludes element should
          use java syntax, but the usual wildcards are allowed.
          Some examples:
          <pre class="programlisting">&lt;class>
  &lt;patternset>
    &lt;include name="com.mycompany.**.*Bean"/>
    &lt;exclude name="com.mycompany.secretpackage.*"/>
    &lt;exclude name="com.mycompany.myapp.SecretBean"/>
  &lt;/patternset>
&lt;/class></pre>
          This will expose all classes which reside in the package subtree
          of com.mycompany and whose name ends with <code>Bean</code> except
          for those, that reside in the <code>com.mycompany.secretpackage</code>
          package and the single <code>SecretBean</code> in
          <code>com.mycompany.myapp</code>.
          <pre class="programlisting">&lt;class>
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.MainClass"/>
    &lt;include name="org.w3c.sax?."/>
    &lt;exclude name="org.w3c.sax?.**.*$$*"/>
  &lt;/patternset>
&lt;/class></pre>
          This will expose the <code>MainClass</code> class
          and all classes, which reside in packages like
          <code>org.w3c.sax1</code>,
          <code>org.w3c.sax2</code>,
          <code>org.w3c.saxb</code>
          except for inner classes.
          '$' is used as a separator between outer class names
          and inner class names. Since Ant uses '$' as an escape character, you
          have to use two consecutive '<code>$</code>'s ('<code>$$</code>') if
          you want to pass one as an argument to the task.
        </li>
        <li>
          Finally one can specify classes depending on their visibility, i.e.
          depending whether they have been declared
          <span class="keyword">public</span>,
          <span class="keyword">protected</span>,
          package-private or
          <span class="keyword">private</span> (inner classes).
          This can be achieved by additionally specifying the
          <span class="attribute">classes</span> attribute in the
          <span class="element">class</span> element.
          <pre class="programlisting">&lt;class classes="protected">
  &lt;patternset>
    &lt;include name="com.mycompany.myapi."/>
  &lt;/patternset>
&lt;/class></pre>
          This will keep all class names, that are either
          <span class="keyword">public</span> or
          <span class="keyword">protected</span> and
          which reside in one of the subpackages of
          <code>com.mycompany.myapi</code>
          (note the abbreviation: the trailing dot behaves like the trailing
          '<code>/</code>' in the usual <code>patternset</code>, i.e. it could
          be rewritten as <code>com.mycompany.myapi.**.*</code>)
          <pre class="programlisting">&lt;class classes="protected"
  methods="protected"
  fields="protected">
  &lt;patternset>
    &lt;include name="**.*"/>
  &lt;/patternset>
&lt;/class></pre>
          This example shows the very common use case of excluding a complete
          public API from the shrinking and obfuscation process.
          There is an abbreviation for this use case: you can omit the
          <span class="element">patternset</span> element, since in the case
          where the <span class="attribute">classes</span> attribute is
          specified and there is no <span class="element">patternset</span>
          child element used, the task will automatically apply this rule.
          In this example all classes will be exposed, that are either
          <span class="keyword">public</span> or
          <span class="keyword">protected</span>.
          Their methods and fields will be exposed as long as they are declared
          <span class="keyword">public</span> or
          <span class="keyword">protected</span>.
          If a class is package-private or
          <span class="keyword">private</span> (inner classes), neither itself
          nor its methods or fields will be exposed.
        <p>
          The last example shows how to keep the
          <span class="keyword">public</span> methods of certain classes only,
          but neither field names nor the class names themselves.
          <pre class="programlisting">&lt;class classes="none" methods="public" fields="none">
  &lt;patternset>
    &lt;include name="com.mycompany.myapi."/>
  &lt;/patternset>
&lt;/class></pre>
        </li>
      </ol>
    </div>
  </div>


  <a name="method"></a>
  <h1>The <span class="element">method</span> Element</h1>

  <div class="section">
    <p>
      Using the <span class="element">method</span> element you can specify
      methods by signature which should be excluded from shrinking or name obfuscation.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">name</span></td>
          <td>
            Specifies the method to keep. Use the complete signature using
            fully qualified class names and the return type!
          </td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><span class="attribute">class</span></td>
          <td>
            Specifies the class which contains the method. Use the normal java
            syntax, i.e. the fully qualified name.
            This attribute can be omitted, if the patternset element is used as
            a child element, in which case all classes matching the patternset
            will be searched and their corresponding methods will be kept.
          </td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Examples</p>
      <pre class="programlisting">&lt;method class="com.mycompany.myapp.MyClass"
  name="void main(java.lang.String[])"/>
&lt;method class="com.mycompany.myapp.MyClass"
  name="int foo(double[][], java.lang.Object)"/>
&lt;method name="void writeObject(java.io.ObjectOutputStream)">
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.data.*"/>
  &lt;/patternset>
&lt;/method>
&lt;method name="void readObject(java.io.ObjectInputStream)">
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.data.*"/>
  &lt;/patternset>
&lt;/method></pre>
      <p>
        This will keep the main method of the <code>MyClass</code> class and the
        <code>foo</code> method.
        Additionally all <code>readObject</code> and <code>writeObject</code>
        methods (used for serialization) will be kept in all classes of the
        <code>com.mycompany.myapp.data</code> package.
        Note that you have to specify the return argument's type, even if it is
        <span class="keyword">void</span> and that you have to use the fully
        qualified name for all classes, even those, that are in the
        <code>java.lang</code> package.
      </p>
    </div>
  </div>


  <a name="field"></a>
  <h1>The <span class="element">field</span> Element</h1>

  <div class="section">
    <p>
      Using the <span class="element">field</span> element you can specify
      fields by name which should be excluded from shrinking or name
      obfuscation.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">name</span></td>
          <td>
            Specifies the field to keep.
            Use the name of the field only, do not include its type!
          </td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><span class="attribute">class</span></td>
          <td>
            Specifies the class which contains the field.
            Use the normal java syntax, i.e. the fully qualified name.
            This attribute can be omitted, if the
            <span class="element">patternset</span> element is used as
            a child element, in which case the all classes matching the
            patternset will be searched and their corresponding fields will be
            kept.
          </td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Examples</p>
      <pre class="programlisting">&lt;field class="com.mycompany.myapp.MyClass" name="field"/>
&lt;field name="serialVersionUID">
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.data.*"/>
  &lt;/patternset>
&lt;/field></pre>
      <p>
        This will keep the field named <code>field</code> of the
        <code>MyClass</code> class.
        Additionally all the serialVersionUID fields (used for serialization)
        will be kept in all classes of the <code>com.mycompany.myapp.data</code>
        package.
      </p>
    </div>
  </div>


  <a name="package"></a>
  <h1>The <span class="element">package</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">package</span> element can be used for excluding
      certain package's names from the renaming process. It cannot be used for
      the shrinking process.
      <br/>
      All packages that are matched be the nested
      <span class="elment">patternset</span>
      element will not be obfuscated. This has no influence on the class,
      method, or field names but will only result in the package's name not
      being obfuscated.
      Normally, it is not necessary to use this element, instead the
      <a href="#class"><span class="element">class</span> element</a> is used
      to keep class names (and thus their package names) from being obfuscated.
    </p>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Examples</p>
      <pre class="programlisting">&lt;package>
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.*"/>
  &lt;/patternset>
&lt;/package></pre>
      <p>
        This will keep the names of all packages that are direct descendants
        of <code>com.mycompany.myapp</code>. This will not influence the names
        of the classes contained in these packages.
      </p>
    </div>
  </div>


  <a name="sourcefile"></a>
  <h1>The <span class="element">sourcefile</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">sourcefile</span> element allows for a special
      treatment of the <span class="attribute">sourceFile</span> attribute by
      the <a href="#rename"><span class="element">rename</span></a> element.
      <br>
      Using nested <span class="element">property</span> elements, the mapping
      of <span class="attribute">sourceFile</span> attributes in obfuscated
      class files can be adjusted.
    </p>

    <div class="properties">
      <p class="title">The following properties are supported:</p>

      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Name</b></th>
          <th width="88%"><b>Description</b></th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td><span class="property">mapping</span></td>
          <td>
            The value of this property determines the name all
            <span class="attribute">sourceFile</span> attributes matched by the
            <span class="element">sourcefile</span> element are mapped to.
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><span class="element">property</span></li>
        <li>
          <a href="http://ant.apache.org/manual/Types/patternset.html"><span class="element">patternset</span></a>
        </li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Examples</p>
      <pre class="programlisting">&lt;sourcefile>
  &lt;property name="mapping" value="y"/>
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.**"/>
  &lt;/patternset>
&lt;/sourcefile></pre>
      <p>
        This will map all of the <span class="attribute">sourceFile</span>
        attributes in the packages below <code>com.mycompany.myapp</code> to
        "<code>y</code>", which is small and generally a nice letter.
      </p>
    </div>
  </div>


  <a name="linenumbertable"></a>
  <h1>The <span class="element">linenumbertable</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">linenumbertable</span> element allows for a
      special treatment of the <span class="attribute">linenumbertable</span>
      attribute by the <a href="#rename"><span class="element">rename</span></a>
      element.
      <br>
      Using nested <span class="element">property</span> elements, the mapping
      of <span class="attribute">linenumbertable</span> attributes in obfuscated
      class files can be adjusted.
    </p>

    <div class="properties">
      <p class="title">The following properties are supported:</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Name</b></th>
          <th width="88%"><b>Description</b></th>
        </tr>
        </thead>

        <tbody>
        <tr>
          <td><span class="property">mapping-scheme</span></td>
          <td>
            Can be used with the following two values:
            <ul>
              <li>
                <span class="prop-value">scramble</span><br>
                This will use a non-trivial algorithm to scramble the line
                numbers in the existing file.
                The algorithm implemented uses a different scrambling scheme for
                each class. The optional
                <span class="property">scrambling-salt</span> property can be
                used to provide an integer value that will be used to "salt"
                the algorithm's random seed for the scrambling.
                The size of the (uncompressed) .class file will not change using
                this mapping scheme.
              </li>
              <li>
                <span class="prop-value">squeeze</span><br>
                This will use a simple algorithm that virtually puts all of a
                method's code into the first line of code of the method. It will
                appear as if each method had been written in a single line of
                code.
                The advantage of this scheme is drastically reduced size
                requirements and thus smaller .class files, while at the same
                time it will be possible to unambiguously determine the exact
                method from a stacktrace.
              </li>
            </ul>
          </td>
        </tr>
        <tr>
          <td><span class="property">scrambling-salt</span></td>
          <td>
            Can be used in conjunction with
            <span class="property">mapping-scheme</span> to provide an integer
            value that will be used to "salt" the algorithm's random seed for
            the scrambling.
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><span class="element">property</span></li>
        <li><span class="element">patternset</span></li>
      </ul>
    </div>

    <div class="examples">
      <p class="title">Examples</p>
      <pre class="programlisting">&lt;linenumbertable>
  &lt;patternset>
    &lt;include name="com.mycompany.myapp.**"/>
  &lt;/patternset>
&lt;/linenumbertable></pre>
      <p>
        This will keep the line numbers of all the classes in the
        <code>com.mycompany.myapp</code> packages and subpackages.
        Note that in order to see the line numbers in stacktraces, the
        <a href="#sourcefile"><span class="attribtue">sourcefile</span></a>
        attribute has to be retained for those files, too, since otherwise the
        JDK will display "<code>Unknown source</code>" for the stack elements.
      </p>

      <pre class="programlisting">&lt;linenumbertable>
  &lt;property name="mapping-scheme" value="scramble"/>
  &lt;property name="scrambling-salt" value="1234"/>
  &lt;patternset id="CompanyPatternSet">
    &lt;include name="com.mycompany.myapp.**"/>
  &lt;/patternset>
&lt;/linenumbertable>
&lt;sourcefile>
  &lt;property name="mapping" value="y"/>
  &lt;patternset refid="CompanyPatternSet"/>
&lt;/sourcefile></pre>
      <p>
        This will keep scrambled line numbers for all classes found in and below
        the <code>com.mycompany.myapp</code> packages.
        The scrambling algorithm will use the given "salt" value to use a
        predefined scrambling scheme.
        In order to see the scrambled line numbers, a
        <a href="#sourcefile"><span class="element">sourcefile</span></a>
        element is used on the same patternset, which is referenced by its
        previously declared reference id, to rename the source files to
        "<code>y</code>".
      </p>
    </div>
  </div>


  <a name="adjust"></a>
  <h1>The <span class="element">adjust</span> Element</h1>

  <div class="section">
    <p>
      Using the <span class="element">adjust</span> element one can specify
      resource files whose names and/or contents should be adjusted by the
      rename engine to reflect the obfuscated class names.
      <br>
      <b>Note:</b>
      This will only adjust files that are part of the
      <span class="element">inoutpair</span> jars! I.e. the fileset's root
      directory is the combined root of all jars that are passed to yGuard via
      the <span class="element">inoutpair</span> elements. yGuard will not
      modify any of the files on disk, except for the out-jar!
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Required</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">replaceName</span></td>
          <td>
            Specifies whether or not the names of the specified resources should
            be adjusted.
          </td>
          <td>No, defaults to <code>false</code>
          </td>
        </tr>
        <tr>
          <td><span class="attribute">replaceContent</span></td>
          <td>
            Specifies whether or not the contents of resource files should be
            adjusted.
          </td>
          <td>No, defaults to <code>false</code>
          </td>
        </tr>
        <tr>
          <td><span class="attribute">replacePath</span></td>
          <td>
            Specifies whether or not the paths to the resource files should be
            adjusted.
          </td>
          <td>No, defaults to <code>true</code></td>
        </tr>
      </table>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <p>
        The <span class="element">adjust</span> element can be used just like the
        standard Ant
        <a href="http://ant.apache.org/manual/Types/zipfileset.html"><span class="element">ZipFileSet</span></a>
        element.
      </p>
    </div>

    <div class="examples">
      <p>
        Some examples:
      </p>
      <pre class="programlisting">&lt;!-- adjust the names of all java property files in the jars -->
&lt;adjust replaceName="true">
  &lt;include name="**/*.properties"/>
&lt;/adjust>

&lt;!-- adjust the classnames specified within a single XML file in the jar -->
&lt;adjust file="plugins.xml" replaceContent="true" />

&lt;!-- suppress the adjustment of the resource path
com/mycompany/myapp/resource in the jar. -->
&lt;!-- the package <i>com.mycompany.myapp</i> still gets obfuscated. -->
&lt;adjust replacePath="false">
  &lt;include name="com/mycompany/myapp/resource/*"/>
&lt;/adjust></pre>
    </div>
  </div>


  <a name="map"></a>
  <h1>The <span class="element">map</span> Element</h1>

  <div class="section">
    <p>
      The <span class="element">map</span> element is an immediate optional
      child of the <a href="#rename"><span class="element">rename</span></a>
      element. It can be used to specify the mapping for the renaming process
      directly. This is an advanced topic.
    </p>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><span class="element">package</span></li>
        <li><span class="element">class</span></li>
        <li><span class="element">method</span></li>
        <li><span class="element">field</span></li>
      </ul>

      <p>
        All of these elements use the <span class="attribute">name</span>
        attribute to specify the specific element. The
        <span class="element">method</span> and
        <span class="element">field</span> elements need the
        <span class="attribute">class</span> attribute in order to function
        properly.
        Neither wildcards nor nested <span class="element">patternset</span>
        elements are allowed.
        Use the <span class="attribute">map</span> attribute to specify the new
        name (subpackage, classname, methodname and fieldname respectively).
      </p>
    </div>

    <div class="examples">
      <p>
        Some examples:
      </p>

      <pre class="programlisting">&lt;map>
  &lt;package name="com" map="etc"/>
  &lt;package name="com.mycompany" map="nocompany"/>
  &lt;package name="com.mycompany.myapp" map="asdf"/>
  &lt;class name="com.mycompany.myapp.MainApp" map="foo"/>
  &lt;method class="com.mycompany.myapp.MainApp"
    name="void main(java.lang.String[])" map="bar"/>
  &lt;field class="com.mycompany.myapp.MainApp" name="field" map="a"/>
&lt;/map></pre>
      <p>
        In this example the package structure <code>com.mycompany.myapp</code>
        will be obfuscated to <code>etc.nocompany.asdf</code>.
        The <code>MainApp</code> class will be called <code>foo</code> and its
        <code>main</code> method will be remapped to <code>bar</code> (and can
        therefor not be executed from commandline anymore).
        The field called <code>field</code> will be renamed to <code>a</code>.
      </p>
    </div>
  </div>


  <a name="annotation"></a>
  <h1>Controlling obfuscation exclusion with annotations</h1>

  <div class="section">
    <p>
      In order to exclude certain elements from obfuscation, it is possible to
      use annotations in the source code instead of listing those elements in
      the <a href="#keep"><span class="element">keep</span></a> element.
    </p>
    <p>
      Any annotation class can be used for this, but it must be specified in the
      <span class="attribute">annotationClass</span>
      attribute of the <a href="#rename"><span class="element">rename</span></a>
      element and follow the convention as explained below to work.
      yGuard contains such an annotation in the distribution package ready for
      use. The annotation class is
      <code>com.yworks.util.annotation.Obfuscation</code> and can be found in
      the yGuard distribution in the<code>lib/ObfuscationAnnotation.jar</code>.
      Feel free add this attribute definition to your own codebase and possibly
      adjust the package name to your needs. Here is the source code for it:
    </p>

    <h3>Obfuscation.java</h3>
    <pre class="programlisting">package com.yworks.util.annotation;

public @interface Obfuscation {

  boolean exclude() default true;

  boolean applyToMembers() default true;
}
</pre>

    <p>
      This class is also the default annotation yGuard is looking for when
      obfuscating.
    </p>
    <p>
      The convention for annotation classes that yGuard understands as
      obfuscation controlling annotations requires two attributes:
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="12%"><b>Attribute</b></th>
          <th width="78%"><b>Description</b></th>
          <th width="10%"><b>Default value</b></th>
        </tr>
        </thead>

        <tr>
          <td><span class="attribute">exclude</span></td>
          <td>
            Specifies whether the annotated element should be excluded from the
            obfuscation. Note, that when retaining a class, the hierarchy of
            that class, i.e. the chain of outer class names and the package
            name, is also retained.
          </td>
          <td><code>true</code></td>
        </tr>
        <tr>
          <td><span class="attribute">applyToMembers</span></td>
          <td>
            Specifies whether the child elements of the annotated element, if
            not otherwise specified, should be excluded from the obfuscation.
            For example, when annotating a class with
            <code>exclude = true</code> and this attribute set to
            <code>true</code>, inner classes, fields and methods of this
            class will be excluded from obfuscation. Annotating a child element
            of an element that has this attribute set to <code>true</code> will
            override the parents annotation configuration.
          </td>
          <td><code>true</code></td>
        </tr>
      </table>
    </div>
  </div>


  <a name="patch"></a>
  <h1>Generating Patch Jars</h1>

  <div class="section">
    <p>
      The true power of the <span class="element">map</span> element lies in its
      use together with the <span class="element">patch</span> element, which
      itself is a child element of the <span class="element">rename</span> top
      level element.
    </p>

    <div class="attributes">
      <p class="title">Attributes</p>
      <p>
        The <span class="element">patch</span> element has no attributes.
      </p>
    </div>

    <div class="child-elements">
      <p class="title">Child Elements</p>
      <ul>
        <li><a href="#class"><span class="element">class</span></a></li>
      </ul>
    </div>

    <p>
      Using the <span class="element">patch</span> element one can generate
      jars, that can be used to serve as patches for versions of an application
      that have already been deployed in obfuscated form.
      During the main obfuscation run, yGuard produces an xml-logfile, in which
      the mapping between the unobfuscated and obfuscated names is contained.
      The <span class="element">patch</span> element is used to declare a set of
      classes, that need to be patched. During the obfuscation, yGuard will
      include those files in the obfuscated jars only, that are declared inside
      this element.
    </p>

    <div class="examples">
    <p>
      For example:
    </p>

      <pre class="programlisting">&lt;patch>
  &lt;class name="com.mycompany.myapp.MainClass"/>
  &lt;class>
    &lt;patternset>
      &lt;include name="com.mycompany.myapp.bugs.*"/>
    &lt;/patternset>
  &lt;/class>
&lt;/patch>
&lt;map logfile="yguardlog.xml"/></pre>
      <p>
        This will only include the MainClass class and all classes that belong
        to the bugs package in a patch jar.
        In order to work with the previously delivered obfuscated version, it is
        important to use the <span class="element">map</span> element to specify
        the mapping of the elements from the previous run.
        This can most conveniently be achieved by specifying the log file from
        the corresponding run in the <span class="element">map</span> element's
        <span class="attribute">logfile</span> attribute.
      </p>
    </div>
  </div>


  <a name="examples"></a>
  <h1>Complete Examples</h1>

  <div class="section">
    <p>
      Examples that represent common use cases.
    </p>

    <a name="ex:build"></a>
    <h2>Example 1: Getting started with Ant and yGuard (for Ant newbies)</h2>

    <p>
      Following are the contents of a complete <code>build.xml</code> file.
      Just copy the following lines to a new document named
      <code>build.xml</code>, put the file into your project's root directory
      and edit the file to suit your needs.
    </p>

    <pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;!-- file build.xml in your project root directory -->
&lt;!-- Ant build script for yfiles -->
&lt;!-- The java based Ant tool is available from -->
&lt;!-- http://jakarta.apache.org/ant -->
&lt;!-- This file demonstrates the use of the yGuard byte -->
&lt;!-- code obfuscator from yWorks Gmbh -->
&lt;!-- yGuard can be downloaded from -->
&lt;!--- https://www.yworks.com/products/yguard -->

&lt;project name="project" default="yguard" basedir=".">

  &lt;!-- edit the following lines to your needs -->
  &lt;target name="init">
  &lt;property name="project_name" value="DemoProject"/>
  &lt;property name="srcDir" value="."/>
  &lt;property name="classDir" value="classes"/>
  &lt;property name="jar" value="${project_name}.jar"/>
  &lt;property name="obfjar" value="${project_name}_obf.jar"/>
  &lt;property name="renamelog" value="${project_name}_renamelog.xml"/>
  &lt;property name="shrinklog" value="${project_name}_shrinklog.xml"/>
  &lt;property name="mainclass" value="com.mycompany.myapp.Main"/>
  &lt;mkdir dir="${classDir}" />
  &lt;/target>


  &lt;target depends="jar" name="yguard">
    &lt;taskdef name="yguard" classname="com.yworks.yguard.YGuardTask"
    classpath="yguard.jar"/>
    &lt;!-- the following can be adjusted to your needs -->
    &lt;yguard>

      &lt;inoutpair in="${jar}" out="${obfjar}"/>

      &lt;shrink logfile="${shrinklog}">

        &lt;keep>
          &lt;class classes="protected"
          methods="protected" fields="protected">
            &lt;patternset>
              &lt;include name="com.mycompany.publicapi.**.*"/>
              &lt;exclude name="com.mycompany.publicapi.private.*"/>
              &lt;include name="com.mycompany.menu.reflection.**.*"/>
            &lt;/patternset>
          &lt;/class>
        &lt;/keep>
      &lt;/shrink>

      &lt;rename mainclass="${mainclass}" logfile="${renamelog}">
        &lt;property name="error-checking" value="pedantic"/>

        &lt;keep>
          &lt;class classes="protected"
          methods="protected" fields="protected">
            &lt;patternset>
              &lt;include name="com.mycompany.publicapi.**.*"/>
              &lt;exclude name="com.mycompany.publicapi.private.*"/>
            &lt;/patternset>
          &lt;/class>
        &lt;/keep>
      &lt;/rename>

    &lt;/yguard>

  &lt;/target>

  &lt;!-- compile -->
  &lt;target name="compile" depends="init">
    &lt;javac srcdir="${srcDir}" includes="com/mycompany/**/*.java"
      destdir="${classDir}">
    &lt;/javac>
  &lt;/target>

  &lt;!-- create .jar -->
  &lt;target name="jar" depends="compile">
    &lt;jar jarfile="${jar}"
      basedir="${classDir}"
      includes="com/mycompany/**">
      &lt;fileset dir="${srcDir}">
        &lt;include name="com/mycompany/resources/*.properties"/>
      &lt;/fileset>
    &lt;/jar>
  &lt;/target>

  &lt;!-- run project -->
  &lt;target name="run" depends="yguard">
    &lt;java classname="${mainclass}" fork="true">
    &lt;classpath>
      &lt;pathelement location="${obfjar}"/>
    &lt;/classpath>
    &lt;/java>
  &lt;/target>

  &lt;!-- removes all that has been built -->
  &lt;target name="clean" depends="init">
    &lt;delete dir="${classDir}" includeEmptyDirs="true" />
  &lt;/target>
&lt;/project>

&lt;!-- end file build.xml --></pre>


    <a name="ex:api"></a>
    <h2>Example 2: A Public API</h2>

    <p>
      An alternative <span class="element">yguard</span> section could look
      like this:
    </p>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="classes.jar" out="classes_obf.jar"/>
  &lt;inoutpair in="utils.jar" out="utils_obf.jar"/>

  &lt;!-- don't let the obfuscator remove the "Deprecated" -->
  &lt;!-- attributes from the .class file entries -->
  &lt;attribute name="Deprecated"/>

  &lt;shrink
    logfile="shrinklog.xml">
    &lt;keep>
      &lt;class classes="protected"
      methods="protected"
      fields="protected"/>
    &lt;/keep>
  &lt;/shrink>

  &lt;rename mainclass="com.mycompany.myapp.Main"
    logfile="obflog.xml">
    &lt;keep>
      &lt;class classes="protected"
      methods="protected"
      fields="protected"/>
    &lt;/keep>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This case is especially useful when you want to provide and expose a
      public API.
      All the classes, methods and fields, that can be seen in a javadoc
      generated API will be excluded from the shrinking and renaming tasks.
      Package friendly and private classes, methods and fields will be shrinked
      or obfuscated whenever possible.
      <br>
      This example also displays the use of the
      <span class="element">attribute</span> element. In this case it prevents
      the <span class="element">yguard</span> task from removing the
      <span class="attribute">Deprecated</span> flag from the entities in the
      .class files.
    </p>


    <a name="ex:demo"></a>
    <h2>Example 3: A Demo Program</h2>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="demo.jar" out="demo_obf.jar"/>

  &lt;shrink logfile="shrinklog.xml">

    &lt;keep>

      &lt;!-- main method -->
      &lt;method name="void main(java.lang.String[])" class="com.mycompany.myapp.Main" />

      &lt;!-- needed for reflection -->
      &lt;class name="com.mycompany.myapp.data.DataObject"
      methods="public" fields="none"/>
      &lt;!-- needed for reflection (name only) -->
      &lt;class name="com.mycompany.myapp.data.InnerDataObject"/>
      &lt;!-- needed for serialization -->
      &lt;method name="void writeObject(java.io.ObjectOutputStream)">
        &lt;patternset id="datapatternset">
          &lt;include name="com.mycompany.myapp.data.*"/>
        &lt;/patternset>
      &lt;/method>
      &lt;method name="void readObject(java.io.ObjectInputStream)">
        &lt;patternset refid="datapatternset"/>
      &lt;/method>
      &lt;field name="serialVersionUID">
        &lt;patternset refid="datapatternset"/>
      &lt;/field>
    &lt;/keep>
  &lt;/shrink>

  &lt;rename mainclass="com.mycompany.myapp.Main" logfile="renamelog.xml">

    &lt;property name="language-conformity" value="illegal"/>
    &lt;property name="naming-scheme" value="mix"/>
    &lt;keep>
      &lt;class name="com.mycompany.myapp.data.DataObject"
      methods="public" fields="none"/>
      &lt;class name="com.mycompany.myapp.data.InnerDataObject"/>
      &lt;method name="void writeObject(java.io.ObjectOutputStream)">
        &lt;patternset refid="datapatternset" />
      &lt;/method>
      &lt;method name="void readObject(java.io.ObjectInputStream)">
        &lt;patternset refid="datapatternset"/>
      &lt;/method>
      &lt;field name="serialVersionUID">
        &lt;patternset refid="datapatternset"/>
      &lt;/field>
    &lt;/keep>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This example demonstrates the common use case of a demo program.
      The <span class="element">keep</span> sections of both the
      <span class="element">shrink</span> and
      <span class="element">rename</span> elements contain code entities that
      will often have to be excluded from the shrinking and renaming process.
      These are the main code entrypoints (the <code>main</code> method),
      classes that are loaded per reflection and fields and methods needed for
      serialization. Note how the same patternsets can be reused using the
      <span class="attribute">id</span> and <span class="attribute">refid</span>
      attributes.
    </p>


    <a name="ex:externalclasses"></a>
    <h2>Example 4: A Program Using an External Library</h2>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="mydemo.jar" out="mydemo_obf.jar"/>

  &lt;externalclasses>
    &lt;pathelement location="lib/external.jar"/>
    &lt;pathelement location="lib/additional/classes/"/>
  &lt;/externalclasses>

  &lt;shrink logfile="shrinklog.xml">
    &lt;property name="error-checking" value="pedantic"/>
    &lt;keep>
      &lt;method name="void main(java.lang.String[])" class="com.mycompany.myapp.Main" />
      &lt;class classes="public"/>
    &lt;/keep>
  &lt;/shrink>

  &lt;rename mainclass="com.mycompany.myapp.Main" logfile="renamelog.xml">
    &lt;property name="error-checking" value="pedantic"/>
    &lt;keep>
      &lt;class classes="public"/>
    &lt;/keep>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This example demonstrates full method and field obfuscation for a program,
      that has external dependencies. The dependencies are specified in the
      <span class="element">externalclasses</span> element using standard Ant
      path specification mechanisms. Classes residing in
      <code>lib/external.jar</code> and underneath the
      <code>lib/additional/classes/</code> directory (note the trailing slash),
      will be used to resolve external dependencies during the obfuscation run.
      This is necessary if external classes want to access obfuscated classes
      directly using an externally defined interface or superclass. yGuard
      automatically detects externally declared methods and prevents renaming
      and shrinking of these items. As a result, the shrinked and obfuscated jar
      file can be used together with unmodified versions of external libraries
      without causing any problems.
      <br>
      This example also demonstrates the use of the
      <span class="property">error-checking</span> property. In this case the
      Ant target fails if any problem is detected during the obfuscation run.
    </p>


    <a name="ex:adjust"></a>
    <h2>Example 5: A Program with <code>.properties</code> Files and Other Resource Files</h2>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="myapp.jar" out="myapp_obf.jar"/>

  &lt;shrink logfile="shrinklog.xml">
    &lt;keep>
      &lt;!-- single entrypoint: main method -->
      &lt;method name="void main(java.lang.String[])" class="com.mycompany.myapp.Main" />
    &lt;/keep>
  &lt;/shrink>

  &lt;rename mainclass="com.mycompany.myapp.Main" logfile="renamelog.xml">

    &lt;adjust replaceContent="true">
      &lt;!-- plain-text class names in the config files will -->
      &lt;!-- be replaced with the obfuscated name versions -->
      &lt;include name="**/*.config"/>
      &lt;include name="com/mycompany/myapp/init/Main.properties"/>
    &lt;/adjust>
    &lt;adjust replacePath="false">
      &lt;!-- keep the complete path to the resources, (gifs...) even if -->
      &lt;!-- package com.mycompany.myapp gets obfuscated by name -->
      &lt;include name="com/mycompany/myapp/resources/*"/>
    &lt;/adjust>
    &lt;adjust replaceName="true">
      &lt;!-- Replace the .properties files' names with the obfuscated -->
      &lt;!-- versions if the corresponding .class files get obfuscated -->
      &lt;include name="**/*.properties"/>
      &lt;/adjust>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This example, too, demonstrates full method and field obfuscation for a
      program, that uses .properties files and other resources files. Some
      configuration files are used that contain fully qualified classnames for
      plugins that are going to be obfuscated. Therefore yGuard is instructed
      to automatically replace the plain-text entries in those files with the
      obfuscated name versions.
      <br>
      Additionally some resources are hardcoded into the classes (image
      locations and html files, e.g.). yGuard gets instructed not to move these
      resource files even if they reside in a package structure that is
      obfuscated.
      <br>
      Since the property files have been created with the same name as the
      classes that make use of them and they are being loaded using
      <code>this.getClass().getName()</code>, yGuard is configured to rename
      the .properties files according to the obfuscated names of the
      corresponding .class files.
    </p>


    <a name="ex:attribute"></a>
    <h2>Example 6: A Program Linked Against a Library That Needs to be Obfuscated</h2>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="myapp.jar" out="myapp_obf.jar"/>
  &lt;inoutpair in="lib/thirdpartylib.jar" out="lib/thirdpartylib_obf.jar"/>

  &lt;externalclasses>
    &lt;pathelement location="lib/external.jar"/>
  &lt;/externalclasses>

  &lt!-- Keep all of the attributes for debugging, e.g. -->
  &lt;attribute name="Deprecated, SourceFile, LineNumberTable, LocalVariableTable>
    &lt;patternset refid="myopenapp"/>
  &lt;/attribute>

  &lt;rename mainclass="org.myorg.myapp.Main" logfile="renamelog.xml">

    &lt;property name="error-checking" value="pedantic"/>

    &lt;keep>
    &lt!-- Tell the obfuscator to only adjust my classes -->
    &lt!-- to work with the obfuscated 3rd party library -->
    &lt!-- but leave them virtually unmodified otherwise -->
    &lt!-- The libconnector package however will be -->
    &lt!-- obfuscated as much as possible -->
    &lt;class classes="private" methods="private" fields="private">
      &lt;patternset id="myopenapp">
        &lt;include name="org.myorg.myapp.**"/>
        &lt;exclude name="org.myorg.myapp.mylibconnector.**"/>
      &lt;/patternset>
    &lt;/class>

    &lt;/keep>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This example demonstrates almost no method, class, and field obfuscation
      for a program, that has external dependencies and additionally depends on
      a third party library jar which has to be obfuscated before deployment.
      Only those parts that actually interface with the third party jar in the
      <code>mylibconnector</code> package are being obfuscated.
      Nothing in the third party library jar will be exposed in the final
      application, everything will be obfuscated and the code in the open
      application that makes use of the third party jar will be adjusted.
      Note that the public part of the application will still be debuggable
      since all of the crucial attributes will be exposed for the open
      application part.
      <br>
      The dependencies are specified in the
      <span class="element">externalclasses</span> element using standard Ant
      path specification mechanisms. Classes residing in
      <code>lib/external.jar</code>will be used to resolve external dependencies
      during the obfuscation run. This is not strictly necessary in this case
      since the public API will be fully exposed, i.e. no methods which have
      been declared by interfaces or super class in external classes will be
      renamed.
    </p>


    <a name="ex:extends"></a>
    <h2>
      Example 7: Using the <span class="attribute">extends</span> and
      <span class="attribute">implements</span> Attributes (Serializable
      Exclusion)
    </h2>

    <pre class="programlisting">&lt;yguard>

  &lt;inoutpair in="myapp.jar" out="myapp_obf.jar"/>

  &lt;shrink>
    &lt;keep>
      &lt;!-- main method -->
      &lt;method name="void main(java.lang.String[])" class="org.myorg.myapp.Main" />
      &lt;!-- serializable classes -->
      &lt;class implements="java.io.Serializable" classes="private" methods="private" fields="private" />
      &lt;!-- menu items loaded per reflection -->
      &lt;class extends="org.myorg.myapp.MyMenuItem" classes="friendly" methods="public" fields="public" />
    &lt;/keep>
  &lt;/shrink>

  &lt;rename mainclass="org.myorg.myapp.Main" logfile="renamelog.xml">

    &lt;keep>
      &lt;method name="void readObject(java.io.ObjectInputStream)" />
      &lt;method name="void writeObject(java.io.ObjectOutputStream)" />
      &lt;field name="serialVersionUID" />
      &lt;class extends="org.myorg.myapp.MyMenuItem" classes="friendly" methods="public" fields="public" />
    &lt;/keep>
  &lt;/rename>

&lt;/yguard></pre>

    <p>
      This example demonstrates the usage of the new
      <a href="#implements"><span class="attribute">implements</span></a> and
      <a href="#extends"><span class="attribute">extends</span></a> attributes
      of the<a href="#class"><span class="element">class</span></a> element.
      All <code>Serializable</code> classes are excluded from shrinking by using
      the <a href="#implements"><span class="attribute">implements</span></a>
      attribute of the <a href="#class"><span class="element">class</span></a>
      element.
      Additionally, all classes that extend the base class for menu items,
      <code>org.myorg.myapp.MyMenuItem</code>, are defined as entrypoints for
      the shrinking engine using the
      <a href="#extends"><span class="attribute">extends</span></a> attribute
      of the <a href="#class"><span class="element">class</span></a> element.
      The <code>readObject</code> and <code>writeObject</code> methods and the
      field <code>serialVersionUID</code> needed for serialization are excluded
      from name obfuscation as well.
    </p>


    <a name="ex:annotation"></a>
    <h2>Example 8: Annotations in Source Code to Control Obfuscation Exclusion</h2>

    <p>
      This section gives examples on how to use annotations to control which
      elements should be excluded from the obfuscation process (i.e., keep their
      names). The following assumes that there is an annotation class named
      <code>com.yworks.util.annotation.Obfuscation</code> in the classpath that
      follows the convention as described <a href="#annotation">above</a>.
    </p>

    <h3>Example 8.a: Obfuscation Exclusion per Item</h3>

    <pre class="programlisting">@com.yworks.util.annotation.Obfuscation( exclude = true, applyToMembers = false)
public class Person {

  public String name;

  public String occupation;

  @com.yworks.util.annotation.Obfuscation( exclude = true )
  public int age;
}
</pre>

    <div class="obfuscation">
      <p class="title">Obfuscation</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="50%"><b>Element</b></th>
          <th width="50%"><b>Obfuscated?</b></th>
        </tr>
        </thead>
        <tr>
          <td><code>class Person</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field name</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field occupation</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field age</code></td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <p>
      The table above shows the result of the obfuscation of this example.
      The <code>Person</code> class is annotated to be excluded from the
      obfuscation, but the <span class="attribute">applyToMembers</span>
      attribute is set to <code>false</code>, which means that the child
      elements of the class (the <code>String</code> and <code>int</code>
      fields) do not inherit this setting from its parent.
      The <code>name</code> and <code>occupation</code> fields are not annotated
      and do not inherit the annotation configuration from their parent, so they
      are obfuscated. The<code>age</code> field however is also annotated to be
      excluded from obfuscation and thus keeps its name.
    </p>


    <h3>
      Example 8.b: Obfuscation Exclusion for Members Using
      <span class="attribute">applyToMembers</span>
    </h3>

    <pre class="programlisting">@com.yworks.util.annotation.Obfuscation( exclude = true, applyToMembers = true)
public class Person {

  @com.yworks.util.annotation.Obfuscation( exclude = false )
  public String name;

  public String occupation;

  public int age;
}
</pre>

    <div class="obfuscation">
      <p class="title">Obfuscation</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="50%"><b>Element</b></th>
          <th width="50%"><b>Obfuscated?</b></th>
        </tr>
        </thead>
        <tr>
          <td><code>class Person</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field name</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field occupation</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field age</code></td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <p>
      Again, the class <code>Person</code> keeps its name, but the configuration
      is inherited by its members, too. The fields <code>occupation</code> and
      <code>age</code> have no annotation set and inherit the configuration
      of its parent, which is <code>exclude = true</code>, so they keep their
      names. The field <code>name</code> however specifies its own annotation
      and thus overrides the configuration of its parent and sets its own
      exclusion to <code>false</code>, so it is obfuscated.
    </p>


    <h3>
      Example 8.c: Obfuscation Exclusion for Members using
      <span class="attribute">applyToMembers</span> in the Case of Nested
      Classes
    </h3>

    <pre class="programlisting">@Obfuscation ( exclude = true, applyToMembers = true )
public class Person {

  public String name;

  public String occupation;

  public int age;

  @Obfuscation ( exclude = false, applyToMembers = true )
  class BirthInfo {

    String birthPlace;

    class Date {

      int year;

      int month;

      int day;
    }
  }
}
</pre>

    <div class="obfuscation">
      <p class="title">Obfuscation</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="50%"><b>Element</b></th>
          <th width="50%"><b>Obfuscated?</b></th>
        </tr>
        </thead>
        <tr>
          <td><code>class Person</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field name</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field occupation</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field age</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>class BirthInfo</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field birthPlace</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>class Date</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field year</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field month</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field day</code></td>
          <td>Yes</td>
        </tr>
      </table>
    </div>

    <p>
      The <span class="attribute">applyToMembers</span> configuration is also
      applicable to inner classes:
      In the above example, the top level class <code>Person</code> is annotated
      so that itself  and all its members should be excluded from obfuscation.
      But, the inner class
      <code>BirthInfo</code> overrides this configuration by setting
      <span class="attribute">exclude</span> to <code>false</code> for itself
      and all of its members. When yGuard has to decide whether to keep or
      obfuscate a non-annotated element, then it will look for annotations by
      going up the nesting-hierarchy until the top level class is reached or a
      parent has the <span class="attribute">applyToMembers</span> configuration
      set to <code>true</code>. In this case, when deciding whether to keep the
      inner class<code>Date</code>, yGuard goes up the hierarchy and finds the
      annotation at<code>BirthInfo</code>, which is annotated
      <code>exclude = false</code>. This results in <code>Date</code> being
      obfuscated. The same applies to the members of <code>Date</code>.
    </p>


    <h3>
      Example 8.d: Obfuscation Exclusion Using
      <span class="attribute">applyToMembers</span> in the Case of Nested
      Classes II
    </h3>

    <pre class="programlisting">@Obfuscation ( exclude = true, applyToMembers = true )
public class Person {

  public String name;

  public String occupation;

  public int age;

  @Obfuscation ( exclude = false, applyToMembers = false )
  class BirthInfo {

    String birthPlace;

    class Date {

      int year;

      int month;

      int day;
    }
  }
}
</pre>

    <div class="obfuscation">
      <p class="title">Obfuscation</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="50%"><b>Element</b></th>
          <th width="50%"><b>Obfuscated?</b></th>
        </tr>
        </thead>
        <tr>
          <td><code>class Person</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field name</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field occupation</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field age</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>class BirthInfo</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field birthPlace</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>class Date</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field year</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field month</code></td>
          <td>No</td>
        </tr>
        <tr>
          <td><code>field day</code></td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <p>
      The above example shows almost the same code as in Example 8.c, but this
      time the class <code>BirthInfo</code> has the
      <span class="attribute">applyToMembers</span> annotation set to
      <code>false</code>. One might expect that, as a result, all members of
      <code>BirthInfo</code> are kept and only <code>BirthInfo</code> is
      obfuscated, but instead, all elements in this example are kept.
      The explanation: when reaching <code>Date</code>, yGuard is looking up its
      parent's configuration, <code>BirthInfo</code>, which has
      <code>applyToMembers = false</code>. yGuard then proceeds to the next
      parent class in the nesting-hierarchy, <code>Person</code>, which has
      <code>applyToMembers = true</code> and <code>exclude = true</code> set.
      This causes <code>Date</code> to be kept.
      But keeping a class also means that its fully qualified name and thus its
      nesting-hierarchy needs to be kept. Although the annotation of
      <code>BirthInfo</code> does not explicitly retain the the name of the
      class, the retention of <code>Date</code> and its nesting-hierarchy causes
      <code>BirthInfo</code> to be kept.
    </p>


    <h3>Example 8.e: Default Behavior</h3>

    <pre class="programlisting">public class Person {

  public String name;

  public String occupation;

  @com.yworks.util.annotation.Obfuscation
  public int age;

}
</pre>

    <div class="obfuscation">
      <p class="title">Obfuscation</p>
      <table class="listing">
        <thead>
        <tr>
          <th width="50%"><b>Element</b></th>
          <th width="50%"><b>Obfuscated?</b></th>
        </tr>
        </thead>
        <tr>
          <td><code>class Person</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field name</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field occupation</code></td>
          <td>Yes</td>
        </tr>
        <tr>
          <td><code>field age</code></td>
          <td>No</td>
        </tr>
      </table>
    </div>

    <p>
      This example shows the default behavior of yGuard without specifying an
      annotation and when not assigning the attributes of the annotation.
      <code>Person</code>, <code>name</code> and <code>occupation</code>
      are obfuscated, while <code>age</code> is annotated. The default value for
      <span class="attribute">exclude</span> is <code>true</code>, so the field
      <code>age</code> is not obfuscated.
    </p>

  </div>


  <a name="deobfuscation"></a>
  <h1>Deobfuscating Stacktraces Etc.</h1>

  <div class="section">
    <p>
      yGuard provides a simple tool that makes it easy for the obfuscating party
      to deobfuscate stacktraces which have been obfuscated using yGuard.
      During the obfuscation yGuard produces an xml logfile which can
      automatically be gzipped for convenient storage. You should always keep
      those logfiles in order to be able to deobfuscate fully qualified
      classnames or methods or fields for debugging purposes e.g.
      <br>
      In order to run the yGuard deobfuscation tool do the following:
    </p>
    <pre class="programlisting">Console> java -jar yguard.jar mylogfile.xml</pre>
    <p>
      A tiny GUI will popup that will enable you to easily deobfuscate
      stacktraces and fully qualified classnames as well as provide a
      convenient way to browse the mapping generated by yGuard.
      <br>
      In the main window a tree view displays the package, class, and
      classmember hierarchy using the unobfuscated names. For each entry that
      has been obfuscated (classes, packages, methods, and fields that have not
      been obfuscated at all may not always be shown in the tree) the
      corresponding mapped/obfuscated name is displayed.
      <br>
      The two buttons at the top of the window allow to change the sorting of
      the items in the tree structure, so that they are either sorted according
      to their names before or after the obfuscation. Items will always be
      sorted by type first:
      packages, classes, innerclasses, methods, and fields. Small icons provide
      a convenient way to quickly find the corresponding items.
    </p>

    <p>
      The lower part of the window contains an editable text area that can be
      used to enter text or paste stacktraces in.
      Pressing the button at the bottom of the window labelled "Deobfuscate"
      will trigger the deobfuscation of the contents in the text area. The tool
      will try to identify fully qualified class names (separated by dots) and
      use the mapping information to reconstruct the original names. If the tool
      identifies a stack trace element, it will try to deobfuscate scrambled
      line numbers, too, if they have been scrambled during the obfuscation
      process.
    </p>
  </div>


  <a name="problems"></a>
  <h1>Problems and Bug Reports</h1>

  <div class="section">
    <p>
      If you experience any problems or think you have found a bug feel free to
      send an email to <a href="mailto:yguard@yworks.com">yguard@yworks.com</a>
      but please make sure you have read the documentation thoroughly before. We
      will do our best and try to answer your questions.
    </p>
  </div>


  <a name="dtd"></a>
  <h1>DTD used for Ant <code>&lt;yguard></code></h1>

  <div class="section">
    <p>
      The obfuscation and shrinking process can be completely configured inside
      your Ant script.
      The <span class="element">yguard</span> task and nested elements should be
      used according to the following DTD. Note that this is for information
      purposes only, i.e. you do not have to include the following lines
      anywhere. This DTD should just provide a quick overview of the yGuard
      syntax. Due to restrictions of the DTD specification, the given DTD does
      not describe all available yGuard options. Please browse through the
      documentation above for complete documentation of the yGuard Ant task
      elements.
    </p>

    <pre class="programlisting">&lt;!ELEMENT yguard (inoutpair+,externalclasses?,attribute*,(shrink|rename)+)>

&lt;!ELEMENT inoutpair EMPTY>
&lt;!ATTLIST inoutpair
in CDATA #REQUIRED
out CDATA #REQUIRED
resources CDATA #IMPLIED>
&lt;!--
NOTE: the resources attribute only has an effect if a shrink element is present inside the yguard element.
-->

&lt;!ELEMENT externalclasses ANY>
&lt;!-- the externalclasses element is used just like Ant's classpath
element. See the Ant documentation for further details-->

&lt;!ELEMENT attribute (patternset)*>
name CDATA #REQUIRED>

&lt;!ELEMENT shrink (entrypointjar*,keep?)>
&lt;!ATTLIST shrink
logfile CDATA #IMPLIED
createStubs CDATA #IMPLIED>

&lt;!ELEMENT entrypointjar>
&lt;!ATTLIST entrypointjar
name CDATA #REQUIRED>

&lt;!ELEMENT rename (property*,patch?,adjust*,map?,keep?)>
&lt;!ATTLIST rename
mainclass CDATA #IMPLIED
logfile CDATA #IMPLIED
conservemanifest CDATA #IMPLIED
replaceClassNameStrings CDATA #IMPLIED>

&lt;!ELEMENT property EMPTY>
&lt;!ATTLIST property
name CDATA #REQUIRED
value CDATA #REQUIRED>

&lt;!ELEMENT patch (class)*>

&lt;!ELEMENT adjust (#PCDATA)>
&lt;!ATTLIST adjust
replaceName CDATA #REQUIRED
replaceContent CDATA #REQUIRED
replacePath CDATA #REQUIRED>

&lt;!ELEMENT map (class|method|field|package)*>

&lt;!ELEMENT package (patternset)*>
&lt;!ATTLIST package
name CDATA #REQUIRED
map CDATA #REQUIRED>
&lt;!--
NOTE: the map attribute is only supported
if the &lt;package> element is nested inside a &lt;map> element, whereas the patternset is
only supported inside the &lt;keep>/&lt;expose> sections.
-->

&lt;!ELEMENT keep (package|class|method|field|sourcefile|linenumbertable)*>
&lt;!--
NOTE: the nested &lt;package>,&lt;sourcefile>,&lt;linenumbertable> and &lt;attribute> sections are only
supported in the &lt;rename> element.
-->
&lt;!ATTLIST keep
linenumbertable CDATA #IMPLIED
localvariabletable CDATA #IMPLIED
localvariabletypetable CDATA #IMPLIED
runtimeinvisibleannotations CDATA #IMPLIED
runtimeinvisibletypeannotations CDATA #IMPLIED
runtimevisibleannotations CDATA #IMPLIED
runtimevisibletypeannotations CDATA #IMPLIED
sourcefile CDATA #IMPLIED>

&lt;!ELEMENT class (patternset)*>
&lt;!ATTLIST class
classes CDATA #IMPLIED
fields CDATA #IMPLIED
map CDATA #IMPLIED
methods CDATA #IMPLIED
name CDATA #IMPLIED>
&lt;!--
NOTE: the map attribute is only supported
if the &lt;class> element is nested inside an &lt;rename> element.
-->

&lt;!ELEMENT method (patternset)*>
&lt;!ATTLIST method
class CDATA #IMPLIED
map CDATA #IMPLIED
name CDATA #IMPLIED>
&lt;!--
NOTE: the map attribute is only supported
if the &lt;method> element is nested inside an &lt;rename> element.
-->

&lt;!ELEMENT field (patternset)*>
&lt;!ATTLIST field
class CDATA #IMPLIED
map CDATA #IMPLIED
name CDATA #IMPLIED>
&lt;!--
NOTE: the field attribute is only supported
if the &lt;method> element is nested inside an &lt;rename> element.
--></pre>

    <p>
      <b>Attention</b> users of IDEs that "support" the creation of Ant files
      (e.g. IDEA's IntelliJ):
      Your IDE may indicate some errors inside your ANT file when you use yGuard
      specific elements. This is because the IDE does not know about the DTD
      used by yGuard. However this is not a real problem, since the Ant file
      should nevertheless work as expected.
    </p>
  </div>
</div>

<footer>
  <div class="footer-block">
    <h4>Contact</h4>
    yWorks GmbH<br>
    Vor dem Kreuzberg 28<br>
    72070 T&uuml;bingen<br>
    Germany<br>
    Phone: <a href="tel:+497071979050">+49 7071 979050</a><br>
    Email: <a href="https://www.yworks.com/contact" target="_blank">contact(at)yworks.com</a><br>
  </div>
  <div class="footer-block">
    <h4>Follow Us</h4>
    <div class="social">
      <a href="@PRODUCT_URL@" target="_blank" class="web">
        Homepage
      </a>
      <a href="https://www.yworks.com/newsfeed" target="_blank" class="rss">
        RSS-Feed
      </a>
      <a href="https://twitter.com/yworks" target="_blank" class="tw">
        Twitter
      </a>
      <a href="https://www.youtube.com/user/yWorksTube" target="_blank"
         class="yt">
        YouTube
      </a>
    </div>
    <span class="copyright">COPYRIGHT &#x00A9; @YEAR@ yWorks</span><br>
    <a href="https://www.yworks.com/company/legal/imprint" target="_blank">Imprint</a>
    | <a href="https://www.yworks.com/company/legal/terms-of-use"
         target="_blank">Terms of Use</a>
    | <a href="https://www.yworks.com/company/legal/privacy" target="_blank">Privacy
    Policy</a>
  </div>
  <div class="footer-block logo">
  </div>
</footer>
</body>
</html>
